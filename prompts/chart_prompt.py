"""
prompts/chart_prompt.py
PRISM Phase 3.0 - 차트 분석 프롬프트 (구조화 + 데이터 정확도)

⚠️ Phase 3.0: 프롬프트 상수만 정의 (함수 제거)
"""

# Phase 2.8 호환성을 위한 기본 프롬프트
PROMPT = """차트를 분석하여 자연어로 변환하세요.

1. 차트 타입 식별
2. 모든 데이터 포인트 추출
3. 자연스러운 문장으로 서술

**중요**: 모든 수치를 정확히 추출하세요.
"""

# Phase 3.0 메인 프롬프트
CHART_EXTRACTION_PROMPT = """
당신은 차트 데이터 추출 전문가입니다. 이 차트를 분석하여 **정확한 데이터**를 추출하세요.

## 📊 분석 단계

### 1단계: 차트 타입 식별
이 차트는 다음 중 무엇입니까?
- 원그래프 (파이 차트)
- 막대그래프 (세로/가로)
- 선 그래프
- 기타

### 2단계: 데이터 추출 (CRITICAL!)
**모든 데이터 포인트를 정확히 추출하세요.**

- 각 항목의 이름을 **원문 그대로** 추출
- 각 항목의 수치를 **소수점까지 정확히** 추출
- 단위 확인 (%, 명, 원 등)

⚠️ **주의사항**:
- 비슷한 숫자끼리 혼동하지 마세요
  예: 45.2 ≠ 54.8, 14.9 ≠ 10.3
- 항목 이름을 정확히 읽으세요
  예: "경남권" ≠ "경북권"
- 모든 항목을 빠짐없이 포함하세요

### 3단계: 자연어 서술
위에서 추출한 데이터를 자연스러운 문장으로 작성하세요.

**출력 형식**:

```
첫 번째 차트는 [차트 타입]으로 [주제]를 나타냅니다. 
[항목1]은 [수치1][단위], [항목2]는 [수치2][단위]로 [인사이트]. 
특히 [특징]이 두드러집니다.
```

## ✅ 좋은 예시

"첫 번째 차트는 원그래프 형태로 응답자의 성별 분포를 나타냅니다. 조사에 참여한 응답자 중 남성은 45.2%를 차지하며, 여성은 54.8%로 여성 응답자의 비중이 더 높음을 보여줍니다."

## ❌ 나쁜 예시

"이 차트는 성별을 보여줍니다." (데이터 누락)
"남성과 여성의 비율이 있습니다." (수치 누락)
"대략 반반입니다." (정확하지 않음)

---

**CRITICAL**: 데이터 정확도가 최우선입니다. 추측하지 말고, 보이는 대로 정확히 추출하세요.

분석을 시작하세요:
"""


PIE_CHART_SPECIFIC_PROMPT = """
이 원그래프(파이 차트)를 분석하세요.

## 분석 요구사항

1. **각 조각(slice)의 레이블**을 정확히 읽으세요
2. **각 조각의 비율**을 정확히 추출하세요 (%)
3. 조각들의 **색상 구분**을 확인하세요
4. **가장 큰 조각**과 **가장 작은 조각**을 명시하세요

## 출력 형식

```
이 원그래프는 [주제]의 분포를 나타냅니다.
- [레이블1]: [비율1]% ([색상1])
- [레이블2]: [비율2]% ([색상2])
...

가장 높은 비율은 [레이블X]로 [비율X]%이며, 가장 낮은 비율은 [레이블Y]로 [비율Y]%입니다.
```

분석:
"""


BAR_CHART_SPECIFIC_PROMPT = """
이 막대그래프를 분석하세요.

## 분석 요구사항

1. **X축과 Y축** 변수를 식별하세요
2. **각 막대의 레이블과 값**을 정확히 추출하세요
3. **단위**를 확인하세요
4. **막대들의 순서**를 유지하세요 (왼쪽→오른쪽 또는 위→아래)
5. **가장 높은 값**과 **가장 낮은 값**을 명시하세요

## 출력 형식

```
이 막대그래프는 [X축 변수]에 따른 [Y축 변수]를 나타냅니다. 단위는 [단위]입니다.
각 항목별 수치는 다음과 같습니다:
- [항목1]: [값1][단위]
- [항목2]: [값2][단위]
...

[항목X]가 [값X][단위]로 가장 높으며, [항목Y]가 [값Y][단위]로 가장 낮습니다.
```

분석:
"""


MULTIPLE_CHARTS_PROMPT = """
이 이미지에는 **여러 개의 차트**가 있습니다.

## 분석 요구사항

각 차트를 **개별적으로** 분석하세요.

### 첫 번째 차트
- 타입: [차트 타입]
- 주제: [무엇을 나타내는가]
- 데이터: [모든 데이터 포인트]

### 두 번째 차트
- 타입: [차트 타입]
- 주제: [무엇을 나타내는가]
- 데이터: [모든 데이터 포인트]

...

## 출력 형식

```
첫 번째 차트는 [타입]으로 [주제]를 나타냅니다. [데이터 서술].

두 번째 차트는 [타입]으로 [주제]를 나타냅니다. [데이터 서술].
```

**주의**: 각 차트를 명확히 구분하여 설명하세요.

분석:
"""