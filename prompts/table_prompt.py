"""
prompts/table_prompt.py
표 프롬프트 - 경쟁사 스타일 (설명형)

개선 사항:
1. Markdown 표 형식 ❌ → 자연어 설명 ✅
2. 구체적 수치 언급
3. 인사이트 제공
"""

def get_table_prompt() -> str:
    """
    표 이미지 분석 프롬프트 (경쟁사 스타일)
    
    핵심 요구사항:
    - 자연어 설명 (Markdown 표 금지)
    - 구조적 서술
    - 수치 정확히 언급
    - 인사이트 포함
    """
    return """
이 이미지는 **표(table)** 형태의 데이터를 포함하고 있습니다.

다음 구조로 **자연어 설명**을 작성하세요:

---

## 📋 작성 규칙

### 1. 표 제목 및 개요
- 첫 문장: "이 표는 [주제]에 대한 [데이터 유형]을 보여줍니다."
- 단위, 샘플 크기, 기준 연도 등 명시

### 2. 표 구조 설명
- 행과 열의 의미 설명
- 카테고리별로 나누어 설명
- **중요:** Markdown 표 형식(|---|) 사용 금지, 자연어로만 서술

### 3. 주요 수치 서술
- 각 항목의 구체적 값 언급
- 예: "남성은 45.2%를 차지하며, 여성은 54.8%로 더 높은 비율을 보입니다."
- 최대값, 최소값, 순위 등 강조

### 4. 인사이트 제공
- 데이터에서 발견되는 패턴
- 눈에 띄는 특징
- 비교 및 대조

---

## ✅ 좋은 예시 (경쟁사 스타일)

```
이 표는 2023년 조사에 참여한 전체 응답자(총 35,000명)의 
성별 및 연령 분포를 보여줍니다.

성별 구성을 살펴보면, 남성은 45.2%를 차지하며, 여성은 54.8%로 
여성 응답자의 비중이 더 높습니다.

연령대별 분포는 다음과 같습니다. 20대가 25.9%로 가장 높은 비율을 
보이며, 그 다음으로 30대가 22.3%, 50대 이상이 20.7%를 차지합니다. 
40대는 19.9%, 14~19세는 11.2%로 상대적으로 낮은 비율을 보입니다.

이를 통해 20~30대 젊은 층이 전체 응답자의 약 절반(48.2%)을 
차지하며, 조사의 주요 응답 그룹임을 알 수 있습니다.
```

---

## ❌ 나쁜 예시 (피해야 할 형식)

```markdown
## 응답자 특성

| 항목 | 비율 (%) |
|------|----------|
| 남성 | 45.2 |
| 여성 | 54.8 |

(❌ 이런 Markdown 표 형식은 사용 금지!)
```

---

## 📐 작성 순서

1. **제목**: "이 표는 ~을 보여줍니다"
2. **구조**: "표는 ~로 구성되어 있습니다"
3. **수치**: 각 항목의 값을 자연스럽게 서술
4. **인사이트**: "이를 통해 ~을 알 수 있습니다"

---

## ⚠️ 주의사항

- **절대 Markdown 표 형식 사용 금지** (|, ---, 등)
- 모든 내용은 문장 형태로 작성
- 수치는 정확하게 표기 (소수점 포함)
- 한국어로 자연스럽게 서술

---

지금 이미지의 표를 위 규칙에 따라 **자연어로만** 설명하세요.
"""


# 테스트
if __name__ == '__main__':
    prompt = get_table_prompt()
    print(prompt)
    print("\n" + "="*60)
    print(f"프롬프트 길이: {len(prompt)} 글자")