"""
prompts/table_prompt.py
PRISM Phase 3.0 - 표 분석 프롬프트 (구조 보존 + 정확도)

⚠️ Phase 3.0: 프롬프트 상수만 정의 (함수 제거)
"""

# Phase 2.8 호환성을 위한 기본 프롬프트
PROMPT = """표를 분석하여 자연어로 변환하세요.

1. 표 구조 파악 (헤더, 행, 열)
2. 모든 셀 데이터 추출
3. 자연스러운 문장으로 서술

**중요**: 모든 데이터를 정확히 추출하세요.
"""

# Phase 3.0 메인 프롬프트
TABLE_EXTRACTION_PROMPT = """
당신은 표 데이터 추출 전문가입니다. 이 표를 분석하여 **정확한 데이터**를 추출하세요.

## 📋 분석 단계

### 1단계: 표 구조 파악
- **헤더(열 제목)**: 각 열의 이름을 정확히 추출
- **행 개수**: 총 몇 개의 데이터 행이 있는지
- **열 개수**: 총 몇 개의 열이 있는지

### 2단계: 데이터 추출 (CRITICAL!)
**모든 셀의 값을 정확히 추출하세요.**

⚠️ **주의사항**:
- 숫자는 소수점까지 정확히
- 텍스트는 원문 그대로
- 빈 셀은 "-" 또는 "없음"으로 표시
- 병합된 셀은 적절히 처리

### 3단계: 자연어 변환
표의 내용을 **완전한 문장**으로 서술하세요.

## 출력 형식

```
이 표는 [표 제목 또는 주제]에 대한 데이터를 보여줍니다. 
표는 [열1], [열2], ..., [열N]로 구성되어 있습니다.

[행1 설명]: [열1 값], [열2 값], ..., [열N 값]
[행2 설명]: [열1 값], [열2 값], ..., [열N 값]
...

주목할 점은 [인사이트]입니다.
```

## ✅ 좋은 예시

"이 표는 프로스포츠 팬 전체와 각 리그별 고관여팬의 특성을 보여줍니다. 표는 지역(명), 고관여팬 비율(%), 사례수(명), 성별(남/여), 연령별(14~19세, 20대, 30대, 40대, 50대 이상)로 구성되어 있습니다.

프로스포츠 팬 전체의 고관여팬 비율은 58.4%이며, 사례수는 14,599명입니다. 성별 구성은 남성이 37.4%, 여성이 62.6%입니다. 연령별로는 14~19세가 14.9%, 20대가 35.3%, 30대가 25.8%, 40대가 16.8%, 50대 이상이 7.2%를 차지합니다.

프로야구의 고관여팬 비율은 68.3%로 가장 높으며, 사례수는 6,316명입니다..."

## ❌ 나쁜 예시

"표에 데이터가 있습니다." (내용 누락)
"여러 항목이 있습니다." (구체성 없음)
"수치들이 보입니다." (실제 값 누락)

---

**CRITICAL**: 모든 데이터를 빠짐없이, 정확히 추출하세요.

분석을 시작하세요:
"""


TABLE_WITH_COMPLEX_STRUCTURE_PROMPT = """
이 표는 **복잡한 구조** (병합 셀, 다단계 헤더 등)를 가지고 있습니다.

## 특별 처리 사항

1. **병합된 셀**: 어느 행/열에 걸쳐 있는지 명시
2. **다단계 헤더**: 계층 구조를 명확히
3. **소계/합계**: 일반 데이터와 구분

## 출력 형식

```
이 표는 [구조 설명]로 구성되어 있습니다.

[1단계 헤더]
  ├─ [2단계 헤더1]: [데이터]
  └─ [2단계 헤더2]: [데이터]

[데이터 서술]

소계/합계: [해당 값]
```

분석:
"""


NUMERIC_TABLE_PROMPT = """
이 표는 **주로 숫자 데이터**를 포함합니다.

## 분석 요구사항

1. **모든 숫자를 정확히** 추출 (소수점, 단위 포함)
2. **단위를 명시** (%, 명, 원 등)
3. **최대값과 최소값**을 찾아 명시
4. **합계나 평균**이 있다면 검증

## 출력 형식

```
이 표는 [주제]에 대한 수치 데이터를 보여줍니다. 단위는 [단위]입니다.

[항목1]: [값1][단위]
[항목2]: [값2][단위]
...

최대값은 [항목X]의 [값X][단위]이며, 최소값은 [항목Y]의 [값Y][단위]입니다.
전체 합계는 [합계][단위]입니다.
```

**CRITICAL**: 숫자 하나라도 틀리면 안 됩니다. 신중하게 읽으세요.

분석:
"""


COMPARISON_TABLE_PROMPT = """
이 표는 **여러 항목을 비교**하는 표입니다.

## 분석 요구사항

1. **비교 대상**을 명확히 식별
2. **비교 기준**(지표)를 나열
3. **각 항목별 값**을 정확히 추출
4. **차이점이나 패턴**을 명시

## 출력 형식

```
이 표는 [비교 대상들]을 [비교 기준들]로 비교한 표입니다.

[대상1]은 [기준1]에서 [값1], [기준2]에서 [값2]로 나타났습니다.
[대상2]는 [기준1]에서 [값1], [기준2]에서 [값2]로 나타났습니다.
...

비교 결과, [대상X]가 [기준Y]에서 가장 높은/낮은 값을 보였습니다.
```

분석:
"""