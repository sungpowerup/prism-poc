# PRISM Phase 2.7 - Python Dependencies
# Python 3.11+ 호환 (Python 3.12 완전 지원)
# 최종 수정: 2025-10-20 (anthropic 버전 업데이트)

# ============================================
# Core Framework
# ============================================
streamlit==1.31.0
python-dotenv==1.0.0

# ============================================
# PDF Processing (Phase 2.7 핵심)
# ============================================
pymupdf==1.24.14        # Phase 2.7 메인: PDF → 이미지 변환
pdf2image==1.16.3       # 레거시 호환: Poppler 기반
Pillow==10.2.0          # 이미지 처리
PyPDF2==3.0.1          # 레거시 코드
pdfplumber==0.10.3     # 레거시 코드

# ============================================
# OCR 기반 패키지
# ============================================
paddlepaddle==2.6.0    # Python 3.12 호환
# paddleocr는 별도 설치: pip install paddleocr==2.7.0 --no-deps

# PaddleOCR 의존성
shapely>=1.7.1
scikit-image>=0.17.2
imgaug>=0.4.0
pyclipper>=1.2.1
lmdb>=1.2.1
tqdm>=4.62.0
visualdl>=2.2.3
rapidfuzz>=2.0.0
opencv-python<=4.6.0.66
opencv-contrib-python<=4.6.0.66
cython>=0.29.0
lxml>=4.6.0
premailer>=3.9.0
openpyxl>=3.0.0
attrdict>=2.0.1
python-docx>=0.8.11
beautifulsoup4>=4.9.3
fonttools>=4.24.0
fire>=0.3.0
pdf2docx>=0.5.0

# ============================================
# VLM APIs (Phase 2.7 Stage 1, 2)
# ============================================
# ✅ 수정: 최신 버전으로 업데이트 (proxies 문제 해결)
anthropic==0.40.0       # Claude API (2025-10 최신)
openai==1.58.1          # Azure OpenAI

# ============================================
# Utilities
# ============================================
numpy==1.26.3          # Python 3.12 호환
requests==2.31.0       # HTTP 요청
setuptools>=65.0.0     # PaddleOCR 내부 의존성

# ============================================
# 설치 가이드
# ============================================
#
# 1. pip 업그레이드:
#    pip install --upgrade pip
#
# 2. 메인 패키지 설치:
#    pip install -r requirements.txt
#
# 3. PaddleOCR 강제 설치:
#    pip install paddleocr==2.7.0 --no-deps
#
# 4. 설치 확인:
#    python -c "import fitz; print(f'PyMuPDF: {fitz.__version__}')"
#    python -c "import anthropic; print(f'Anthropic: {anthropic.__version__}')"
#
# 5. poppler-utils 설치:
#    Windows: https://github.com/oschwartz10612/poppler-windows/releases
#    Mac: brew install poppler
#    Linux: sudo apt-get install poppler-utils